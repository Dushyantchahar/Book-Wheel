{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dushy\\\\Downloads\\\\Book-Wheel\\\\client\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport './Signup.css';\nimport { useNavigate } from 'react-router-dom';\nimport { UserContext } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const loginUser = async e => {\n    e.preventDefault();\n    let errors = document.querySelectorAll(\".error\");\n    for (let error of errors) {\n      error.style.display = \"none\";\n    }\n    if (email.trim() === \"\") {\n      document.getElementById(\"email-error\").innerHTML = \"Please enter a email\";\n      document.getElementById(\"email-error\").style.display = \"block\";\n      e.preventDefault();\n      return false;\n    }\n    if (password.trim() === \"\") {\n      document.getElementById(\"password-error\").innerHTML = \"Please enter a password\";\n      document.getElementById(\"password-error\").style.display = \"block\";\n      e.preventDefault();\n      return false;\n    }\n    const res = await fetch('/signin', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    if (!res.ok) {\n      window.alert(\"Invalid Credentials\");\n    } else {\n      dispatch({\n        type: \"USER\",\n        payload: true\n      });\n      window.alert(\"Login Successful\");\n      navigate(\"/selectroute\");\n    }\n    localStorage.setItem(\"email\", email);\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"loginboxx\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container  w-50 mt-4 Loginbox \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row d-flex  justify-content-between w-20 align-items-center h-80\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-9 col-lg-6 col-xl-5\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\",\n            className: \"img-fluid\",\n            alt: \"Sample image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 col-lg-6 col-xl-4 offset-xl-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"text-center h2 fw-bold mb-3 mx-1 mx-md-1 mt-1 \",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            method: \"POST\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-outline mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                for: \"email\",\n                children: \"Email address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                id: \"email\",\n                name: \"email\",\n                className: \"form-control form-control-lg\",\n                placeholder: \"Enter a valid email address\",\n                value: email,\n                onChange: e => setEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"error\",\n                id: \"email-error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-outline mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                for: \"password\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"passowrd\",\n                name: \"password\",\n                className: \"form-control form-control-lg\",\n                placeholder: \"Enter password\",\n                value: password,\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"error\",\n                id: \"password-error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-lg-start mt-4 pt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary btn-lg loginbutton\",\n                onClick: loginUser,\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"small fw-bold mt-2 pt-1 mb-0\",\n                children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/signup\",\n                  className: \"link-danger\",\n                  children: \"Register\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 80\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"JsF5msvTiC/IUHWT45C4IG31YQg=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useContext","useState","useNavigate","UserContext","jsxDEV","_jsxDEV","Login","_s","state","dispatch","navigate","email","setEmail","password","setPassword","loginUser","e","preventDefault","errors","document","querySelectorAll","error","style","display","trim","getElementById","innerHTML","res","fetch","method","headers","body","JSON","stringify","ok","window","alert","type","payload","localStorage","setItem","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","class","for","id","name","placeholder","value","onChange","target","onClick","href","_c","$RefreshReg$"],"sources":["C:/Users/dushy/Downloads/Book-Wheel/client/src/components/Login.js"],"sourcesContent":["\r\n    import React ,{useContext, useState}from 'react';\r\n    import './Signup.css'\r\n    import { useNavigate } from 'react-router-dom';\r\n    import { UserContext } from '../App';\r\n    const Login=()=> {\r\n\r\n      const {state,dispatch} = useContext(UserContext);\r\n\r\n        const navigate=useNavigate();\r\n        const[email,setEmail]=useState('');\r\n        const[password,setPassword]=useState('');\r\n\r\n        const loginUser= async(e)=>{\r\n            e.preventDefault();\r\n            let errors = document.querySelectorAll(\".error\");\r\n            for(let error of errors){\r\n              error.style.display = \"none\";\r\n            }\r\n              if(email.trim() === \"\"){\r\n                document.getElementById(\"email-error\").innerHTML = \"Please enter a email\";\r\n                document.getElementById(\"email-error\").style.display = \"block\";\r\n                e.preventDefault();\r\n                return false;\r\n                \r\n             }\r\n             if(password.trim() === \"\"){\r\n              document.getElementById(\"password-error\").innerHTML = \"Please enter a password\";\r\n              document.getElementById(\"password-error\").style.display = \"block\";\r\n              e.preventDefault();              \r\n              return false;\r\n           }\r\n          \r\n        const res   = await fetch('/signin',{\r\n            method:\"POST\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        });\r\n       \r\n        if(!res.ok){\r\n            window.alert(\"Invalid Credentials\");\r\n\r\n        }\r\n        else\r\n        {\r\n            dispatch({type:\"USER\",payload:true})\r\n            window.alert(\"Login Successful\");\r\n            navigate(\"/selectroute\");\r\n        }\r\nlocalStorage.setItem(\"email\",email);\r\n\r\n      \r\n      }\r\n      return (\r\n        <section className='loginboxx'>\r\n  <div className=\"container  w-50 mt-4 Loginbox \">\r\n    <div className=\"row d-flex  justify-content-between w-20 align-items-center h-80\">\r\n    <div className=\"col-md-9 col-lg-6 col-xl-5\">\r\n        <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\"\r\n          className=\"img-fluid\" alt=\"Sample image\"/>\r\n      </div>\r\n      <div className=\"col-md-8 col-lg-6 col-xl-4 offset-xl-1\">\r\n      <p class=\"text-center h2 fw-bold mb-3 mx-1 mx-md-1 mt-1 \">Login</p>\r\n\r\n        <form method='POST'>\r\n         \r\n          {/* <!-- Email input --> */}\r\n          <div className=\"form-outline mb-4\">\r\n          <label className=\"form-label\" for=\"email\">Email address</label>\r\n            <input type=\"email\" id=\"email\" name=\"email\" className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter a valid email address\" \r\n              value={email}\r\n              onChange={(e)=>setEmail(e.target.value)}/>\r\n            <p class=\"error\" id=\"email-error\"></p>\r\n          </div>\r\n\r\n          {/* <!-- Password input --> */}\r\n          <div className=\"form-outline mb-3\">\r\n          <label className=\"form-label\" for=\"password\">Password</label>\r\n            <input type=\"password\" id=\"passowrd\" name=\"password\"className=\"form-control form-control-lg\"\r\n              placeholder=\"Enter password\"\r\n              value={password}\r\n              onChange={(e)=>setPassword(e.target.value)}/>\r\n               <p class=\"error\" id=\"password-error\"></p>\r\n          </div>\r\n          \r\n\r\n          <div className=\"text-center text-lg-start mt-4 pt-2\">\r\n            <button type=\"button\" className=\"btn btn-primary btn-lg loginbutton\"\r\n              onClick={loginUser}\r\n              >Login</button>\r\n            <p className=\"small fw-bold mt-2 pt-1 mb-0\">Don't have an account? <a href=\"/signup\"\r\n                className=\"link-danger\">Register</a></p>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n     \r\n    </div>\r\n    <div/>\r\n  </div>\r\n  \r\n</section>\r\n      );\r\n    }\r\n    \r\n    \r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}