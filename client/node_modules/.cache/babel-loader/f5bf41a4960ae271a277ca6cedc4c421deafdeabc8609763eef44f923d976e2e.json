{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dushy\\\\Downloads\\\\Book-Wheel\\\\client\\\\src\\\\components\\\\logout.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { UserContext } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Logout = () => {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    localStorage.clear();\n    fetch('http://localhost:8000/logout', {\n      method: \"GET\",\n      headers: {\n        Accept: \"aplication/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    }).then(res => {\n      dispatch({\n        type: \"USER\",\n        payload: false\n      });\n      navigate('/login', {\n        replace: true\n      });\n      if (res.status === 200) {\n        const error = new Error(res.error);\n        throw error;\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []); // Passing an empty dependency array to useEffect ensures it only runs once when the component mounts\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Logout page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Logout, \"s2xPGP7q2bn8WN7Q+cNrjPCbdd4=\", false, function () {\n  return [useNavigate];\n});\n_c = Logout;\nexport default Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["React","useEffect","useContext","useNavigate","UserContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Logout","_s","state","dispatch","navigate","localStorage","clear","fetch","method","headers","Accept","credentials","then","res","type","payload","replace","status","error","Error","catch","err","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/dushy/Downloads/Book-Wheel/client/src/components/logout.js"],"sourcesContent":["import React, { useEffect,useContext } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { UserContext } from '../App';\r\n\r\n\r\nconst Logout = () => {\r\n    const {state,dispatch} = useContext(UserContext);\r\n\r\n    const navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        localStorage.clear();\r\n        fetch('http://localhost:8000/logout',{\r\n            method:\"GET\",\r\n            headers:{\r\n                Accept:\"aplication/json\",\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            credentials:\"include\"\r\n        }).then((res)=>{\r\n        dispatch({type:\"USER\",payload:false})\r\n        navigate('/login',{replace:true});\r\n        if(res.status===200){\r\n            const error = new Error(res.error);\r\n            throw error;\r\n        }\r\n    }).catch((err)=>{\r\n        console.log(err);\r\n    })\r\n\r\n    }, []); // Passing an empty dependency array to useEffect ensures it only runs once when the component mounts\r\n    \r\n    return (\r\n        <>\r\n            <p>Logout page</p>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Logout;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAACC,UAAU,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGrC,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAM;IAACC,KAAK;IAACC;EAAQ,CAAC,GAAGV,UAAU,CAACE,WAAW,CAAC;EAEhD,MAAMS,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACZa,YAAY,CAACC,KAAK,CAAC,CAAC;IACpBC,KAAK,CAAC,8BAA8B,EAAC;MACjCC,MAAM,EAAC,KAAK;MACZC,OAAO,EAAC;QACJC,MAAM,EAAC,iBAAiB;QACxB,cAAc,EAAC;MACnB,CAAC;MACDC,WAAW,EAAC;IAChB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAG;MACfV,QAAQ,CAAC;QAACW,IAAI,EAAC,MAAM;QAACC,OAAO,EAAC;MAAK,CAAC,CAAC;MACrCX,QAAQ,CAAC,QAAQ,EAAC;QAACY,OAAO,EAAC;MAAI,CAAC,CAAC;MACjC,IAAGH,GAAG,CAACI,MAAM,KAAG,GAAG,EAAC;QAChB,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACN,GAAG,CAACK,KAAK,CAAC;QAClC,MAAMA,KAAK;MACf;IACJ,CAAC,CAAC,CAACE,KAAK,CAAEC,GAAG,IAAG;MACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACpB,CAAC,CAAC;EAEF,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,oBACIxB,OAAA,CAAAE,SAAA;IAAAyB,QAAA,eACI3B,OAAA;MAAA2B,QAAA,EAAG;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG;EAAC,gBACpB,CAAC;AAEX,CAAC;AAAA3B,EAAA,CAhCKD,MAAM;EAAA,QAGSN,WAAW;AAAA;AAAAmC,EAAA,GAH1B7B,MAAM;AAkCZ,eAAeA,MAAM;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}